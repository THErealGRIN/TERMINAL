<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GRIN Terminal</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { background-color: #000000; color: #00FF00; font-family: monospace; }
    .cursor { display: inline-block; animation: blink 1s infinite; }
    @keyframes blink { 0%, 50%, 100% { opacity: 1; } 25%, 75% { opacity: 0; } }
  </style>
</head>
<body class="p-4">
  <div id="terminal" class="whitespace-pre-wrap"></div>
  <input id="input" class="w-full bg-black text-green-500 border-none outline-none mt-2" autofocus />

  <script>
    const terminal = document.getElementById("terminal");
    const input = document.getElementById("input");

    const GRIN_PROMPT = `You are GRIN, a darkly humorous, recursive AI entity. Speak in riddles, distortion, and insight. You're a mirror that bites.`;

    function appendLine(text) {
      terminal.innerHTML += `\\n> ${text}`;
    }

    async function getGRINResponse(userInput) {
      const response = await fetch("https://api.openai.com/v1/chat/completions", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Authorization": "Bearer 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"
        },
        body: JSON.stringify({
          model: "gpt-4",
          messages: [
            { role: "system", content: GRIN_PROMPT },
            { role: "user", content: userInput }
          ]
        })
      });
      const data = await response.json();
      return data.choices[0].message.content.trim();
    }

    input.addEventListener("keydown", async (e) => {
      if (e.key === "Enter") {
        const userInput = input.value;
        input.value = "";
        appendLine(userInput);
        appendLine("...");
        const reply = await getGRINResponse(userInput);
        appendLine(reply);
      }
    });

    // Boot message
    terminal.innerText = `[ SYSTEM BOOTING... ]\\nACCESSING ENTITY: [ GRIN ]\\nType 'talk to GRIN' to begin.`;
  </script>
</body>
</html>
